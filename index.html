<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIRE Progress Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            transition: background 0.5s ease;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: linear-gradient(135deg, #fff5e6 0%, #ffe4cc 100%);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .input-section {
            background: rgba(255, 255, 255, 0.7);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }

        .helper-text {
            font-size: 0.85em;
            color: #888;
            margin-top: 4px;
        }

        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus {
            outline: none;
            border-color: #667eea;
        }

        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
        }

        .results {
            display: none;
        }

        .results.active {
            display: block;
        }

        .progress-circle {
            width: 250px;
            height: 250px;
            margin: 30px auto;
            position: relative;
        }

        .circle-bg {
            fill: none;
            stroke: #e0e0e0;
            stroke-width: 20;
        }

        .circle-progress {
            fill: none;
            stroke: url(#dynamicGradient);
            stroke-width: 20;
            stroke-linecap: round;
            transition: stroke-dashoffset 1s ease;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }

        .percentage-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
            font-weight: bold;
            color: #667eea;
            transition: color 0.5s ease;
        }

        .milestone-section {
            margin: 30px 0;
        }

        .milestone {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            margin-bottom: 15px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 10px;
            border-left: 5px solid #ddd;
            transition: all 0.3s;
        }

        .milestone.achieved {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border-left-color: #667eea;
        }

        .milestone-info {
            flex: 1;
        }

        .milestone-name {
            font-weight: 600;
            font-size: 1.1em;
        }

        .milestone-amount {
            color: #666;
            font-size: 0.9em;
        }

        .milestone-years {
            color: #888;
            font-size: 0.85em;
            font-style: italic;
            margin-top: 3px;
        }

        .milestone-status {
            font-size: 1.5em;
        }

        .celebration {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            border-radius: 15px;
            margin: 30px 0;
            color: white;
            display: none;
        }

        .celebration.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .celebration-message {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .celebration-quote {
            font-size: 1em;
            font-style: italic;
            opacity: 0.95;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid rgba(255,255,255,0.3);
        }

        .quote-author {
            font-size: 0.85em;
            margin-top: 8px;
            opacity: 0.85;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.6);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
        }

        .progress-tracker {
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
        }

        .tracker-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .tracker-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }

        .save-progress-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .save-progress-btn:hover {
            transform: translateY(-2px);
        }

        .history-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .history-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .history-date {
            font-weight: 600;
            color: #333;
        }

        .history-details {
            display: flex;
            gap: 20px;
            font-size: 0.9em;
            color: #666;
        }

        .history-progress {
            font-weight: bold;
            color: #667eea;
        }

        .delete-btn {
            background: #ff4757;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.85em;
        }

        .delete-btn:hover {
            background: #ff3838;
        }

        .empty-state {
            text-align: center;
            color: #999;
            padding: 40px;
            font-style: italic;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background: #667eea;
            position: absolute;
            animation: confetti-fall 3s linear;
        }

        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ”¥ FIRE Tracker</h1>
        <p class="subtitle">Track your journey to Financial Independence</p>

        <div class="input-section">
            <div class="input-group">
                <label>Investment Portfolio ($)</label>
                <input type="number" id="netWorth" placeholder="e.g., 250000">
                <div class="helper-text">Stocks, bonds, index funds, and retirement accounts (401k, IRA, etc.). Exclude primary residence equity and rental properties.</div>
            </div>
            <div class="input-group">
                <label>Monthly Expenses ($)</label>
                <input type="number" id="monthlyExpenses" placeholder="e.g., 3500">
                <div class="helper-text">Your target monthly spending when you FIRE (may be different from current expenses)</div>
            </div>
            <div class="input-group">
                <label>Monthly Savings ($)</label>
                <input type="number" id="monthlySavings" placeholder="e.g., 2500">
                <div class="helper-text">Amount invested each month (into stocks, bonds, retirement accounts, etc.)</div>
            </div>
            <div class="input-group">
                <label>Expected Annual Return (%)</label>
                <input type="number" id="expectedReturn" placeholder="7" value="7" step="0.1">
                <div class="helper-text">Historical stock market average is ~7% after inflation. Conservative investors might use 5-6%.</div>
            </div>
            <button class="calculate-btn" onclick="calculate()">Calculate My Progress ðŸš€</button>
        </div>

        <div class="results" id="results">
            <div class="celebration" id="celebration"></div>

            <div class="progress-circle">
                <svg width="250" height="250">
                    <defs>
                        <linearGradient id="dynamicGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop id="gradientStart" offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop id="gradientEnd" offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <circle class="circle-bg" cx="125" cy="125" r="100"/>
                    <circle class="circle-progress" id="progressCircle" cx="125" cy="125" r="100"/>
                </svg>
                <div class="percentage-text" id="percentage">0%</div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="fiNumber">$0</div>
                    <div class="stat-label">FI Number (4% Rule)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="yearsToFI">--</div>
                    <div class="stat-label">Years to FI</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="savingsRate">0%</div>
                    <div class="stat-label">Savings Rate</div>
                </div>
            </div>

            <div class="milestone-section">
                <h2 style="margin-bottom: 20px; color: #667eea;">Your Milestones</h2>
                <div class="milestone" id="coastFI">
                    <div class="milestone-info">
                        <div class="milestone-name">Coast FI</div>
                        <div class="milestone-amount" id="coastAmount">$0</div>
                        <div class="milestone-years" id="coastYears"></div>
                    </div>
                    <div class="milestone-status">â­•</div>
                </div>
                <div class="milestone" id="leanFI">
                    <div class="milestone-info">
                        <div class="milestone-name">Lean FI</div>
                        <div class="milestone-amount" id="leanAmount">$0</div>
                        <div class="milestone-years" id="leanYears"></div>
                    </div>
                    <div class="milestone-status">â­•</div>
                </div>
                <div class="milestone" id="fullFI">
                    <div class="milestone-info">
                        <div class="milestone-name">Full FI</div>
                        <div class="milestone-amount" id="fullAmount">$0</div>
                        <div class="milestone-years" id="fullYears"></div>
                    </div>
                    <div class="milestone-status">â­•</div>
                </div>
                <div class="milestone" id="fatFI">
                    <div class="milestone-info">
                        <div class="milestone-name">Fat FI</div>
                        <div class="milestone-amount" id="fatAmount">$0</div>
                        <div class="milestone-years" id="fatYears"></div>
                    </div>
                    <div class="milestone-status">â­•</div>
                </div>
            </div>

            <div class="progress-tracker">
                <div class="tracker-header">
                    <div class="tracker-title">ðŸ“Š Progress History</div>
                    <button class="save-progress-btn" onclick="saveProgress()">Save This Month</button>
                </div>
                <div class="history-list" id="historyList">
                    <div class="empty-state">No progress saved yet. Click "Save This Month" to start tracking!</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let progressHistory = [];
        let currentData = {};

        function calculate() {
            const netWorth = parseFloat(document.getElementById('netWorth').value) || 0;
            const monthlyExpenses = parseFloat(document.getElementById('monthlyExpenses').value) || 0;
            const monthlySavings = parseFloat(document.getElementById('monthlySavings').value) || 0;
            const expectedReturn = parseFloat(document.getElementById('expectedReturn').value) || 7;

            if (netWorth === 0 || monthlyExpenses === 0) {
                alert('Please enter your investment portfolio value and monthly expenses!');
                return;
            }

            const annualExpenses = monthlyExpenses * 12;
            const annualSavings = monthlySavings * 12;

            const fullFINumber = annualExpenses * 25;
            const leanFINumber = annualExpenses * 0.75 * 25;
            const fatFINumber = annualExpenses * 1.5 * 25;
            const coastFINumber = fullFINumber * 0.5;

            const progressPercent = Math.min((netWorth / fullFINumber) * 100, 100);

            let yearsToFI = '--';
            if (annualSavings > 0) {
                const remainingNeeded = fullFINumber - netWorth;
                if (remainingNeeded <= 0) {
                    yearsToFI = '0';
                } else {
                    const returnRate = expectedReturn / 100;
                    let years = 0;
                    let currentValue = netWorth;
                    while (currentValue < fullFINumber && years < 100) {
                        currentValue = currentValue * (1 + returnRate) + annualSavings;
                        years++;
                    }
                    yearsToFI = years < 100 ? years.toFixed(1) : '99+';
                }
            }

            const monthlyIncome = monthlyExpenses + monthlySavings;
            const savingsRate = monthlyIncome > 0 ? ((monthlySavings / monthlyIncome) * 100).toFixed(1) : 0;

            currentData = {
                netWorth: netWorth,
                monthlyExpenses: monthlyExpenses,
                monthlySavings: monthlySavings,
                expectedReturn: expectedReturn,
                progressPercent: progressPercent,
                fullFINumber: fullFINumber
            };

            document.getElementById('results').classList.add('active');
            document.getElementById('percentage').textContent = progressPercent.toFixed(1) + '%';
            document.getElementById('fiNumber').textContent = '$' + fullFINumber.toLocaleString();
            document.getElementById('yearsToFI').textContent = yearsToFI;
            document.getElementById('savingsRate').textContent = savingsRate + '%';

            updateColors(progressPercent);

            const circle = document.getElementById('progressCircle');
            const circumference = 2 * Math.PI * 100;
            const offset = circumference - (progressPercent / 100) * circumference;
            circle.style.strokeDasharray = circumference;
            circle.style.strokeDashoffset = offset;

            updateMilestone('coastFI', 'coastAmount', 'coastYears', coastFINumber, netWorth, annualSavings, expectedReturn);
            updateMilestone('leanFI', 'leanAmount', 'leanYears', leanFINumber, netWorth, annualSavings, expectedReturn);
            updateMilestone('fullFI', 'fullAmount', 'fullYears', fullFINumber, netWorth, annualSavings, expectedReturn);
            updateMilestone('fatFI', 'fatAmount', 'fatYears', fatFINumber, netWorth, annualSavings, expectedReturn);

            showCelebration(progressPercent);
        }

        function updateColors(percent) {
            let startColor, endColor, bgGradient, textColor;

            if (percent < 25) {
                startColor = '#667eea';
                endColor = '#764ba2';
                bgGradient = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
                textColor = '#667eea';
            } else if (percent < 50) {
                startColor = '#4facfe';
                endColor = '#00f2fe';
                bgGradient = 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)';
                textColor = '#00bcd4';
            } else if (percent < 75) {
                startColor = '#43e97b';
                endColor = '#38f9d7';
                bgGradient = 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)';
                textColor = '#00c853';
            } else if (percent < 100) {
                startColor = '#fa709a';
                endColor = '#fee140';
                bgGradient = 'linear-gradient(135deg, #fa709a 0%, #fee140 100%)';
                textColor = '#ff6b35';
            } else {
                startColor = '#f7971e';
                endColor = '#ffd200';
                bgGradient = 'linear-gradient(135deg, #f7971e 0%, #ffd200 100%)';
                textColor = '#f39c12';
            }

            document.getElementById('gradientStart').style.stopColor = startColor;
            document.getElementById('gradientEnd').style.stopColor = endColor;
            document.body.style.background = bgGradient;
            document.getElementById('percentage').style.color = textColor;
            
            const statValues = document.querySelectorAll('.stat-value');
            for (let i = 0; i < statValues.length; i++) {
                statValues[i].style.color = textColor;
            }
            
            document.querySelector('h1').style.color = textColor;
            document.querySelector('.tracker-title').style.color = textColor;
        }

        function updateMilestone(elementId, amountId, yearsId, targetAmount, currentAmount, annualSavings, returnRate) {
            const element = document.getElementById(elementId);
            const amountElement = document.getElementById(amountId);
            const yearsElement = document.getElementById(yearsId);
            const statusElement = element.querySelector('.milestone-status');

            amountElement.textContent = '$' + targetAmount.toLocaleString();

            let yearsToMilestone = '';
            if (currentAmount >= targetAmount) {
                yearsToMilestone = 'Achieved!';
                element.classList.add('achieved');
                statusElement.textContent = 'âœ…';
            } else {
                element.classList.remove('achieved');
                statusElement.textContent = 'â­•';
                
                if (annualSavings > 0) {
                    const returnRateDecimal = returnRate / 100;
                    let years = 0;
                    let portfolioValue = currentAmount;
                    while (portfolioValue < targetAmount && years < 100) {
                        portfolioValue = portfolioValue * (1 + returnRateDecimal) + annualSavings;
                        years++;
                    }
                    yearsToMilestone = years < 100 ? years.toFixed(1) + ' years away' : '99+ years';
                } else {
                    yearsToMilestone = 'Add savings to calculate';
                }
            }

            yearsElement.textContent = yearsToMilestone;
        }

        function showCelebration(percent) {
            const celebration = document.getElementById('celebration');
            let message = '';
            let quote = '';
            let author = '';

            if (percent >= 100) {
                message = 'ðŸŽ‰ CONGRATULATIONS! You have achieved Financial Independence! ðŸŽ‰';
                quote = 'The ability to do what you want, when you want, with who you want, for as long as you want, is priceless. It is the highest dividend money pays.';
                author = 'Morgan Housel, The Psychology of Money';
                createConfetti();
            } else if (percent >= 75) {
                message = 'ðŸ”¥ You are in the home stretch! 75% there!';
                quote = 'Spending money to show people how much money you have is the fastest way to have less money.';
                author = 'Morgan Housel';
            } else if (percent >= 50) {
                message = 'ðŸ’ª Halfway to FI! Keep up the amazing work!';
                quote = 'The best way to achieve wealth is through simplicity and avoiding the comparison game.';
                author = 'J.L. Collins';
            } else if (percent >= 25) {
                message = 'ðŸŒŸ You are 25% of the way! Great progress!';
                quote = 'Wealth is what you do not see. It is the cars not purchased, the diamonds not bought, the renovations postponed, the clothes forgone.';
                author = 'Morgan Housel';
            } else if (percent > 0) {
                message = 'ðŸš€ Your FIRE journey has begun!';
            }

            if (message) {
                let html = '<div class="celebration-message">' + message + '</div>';
                if (quote) {
                    html += '<div class="celebration-quote">"' + quote + '"<div class="quote-author">â€” ' + author + '</div></div>';
                }
                celebration.innerHTML = html;
                celebration.classList.add('show');
            }
        }

        function saveProgress() {
            if (!currentData.netWorth) {
                alert('Please calculate your progress first!');
                return;
            }

            const now = new Date();
            const monthYear = now.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });

            const entry = {
                id: Date.now(),
                date: monthYear,
                timestamp: now.getTime(),
                netWorth: currentData.netWorth,
                progressPercent: currentData.progressPercent,
                fiNumber: currentData.fullFINumber
            };

            progressHistory.unshift(entry);
            displayHistory();
            
            alert('Progress saved for ' + monthYear + '!');
        }

        function displayHistory() {
            const historyList = document.getElementById('historyList');
            
            if (progressHistory.length === 0) {
                historyList.innerHTML = '<div class="empty-state">No progress saved yet. Click "Save This Month" to start tracking!</div>';
                return;
            }

            let html = '';
            for (let i = 0; i < progressHistory.length; i++) {
                const entry = progressHistory[i];
                html += '<div class="history-item">';
                html += '<div>';
                html += '<div class="history-date">' + entry.date + '</div>';
                html += '<div class="history-details">';
                html += '<span>Portfolio: $' + entry.netWorth.toLocaleString() + '</span>';
                html += '<span class="history-progress">' + entry.progressPercent.toFixed(1) + '% to FI</span>';
                html += '</div>';
                html += '</div>';
                html += '<button class="delete-btn" onclick="deleteEntry(' + entry.id + ')">Delete</button>';
                html += '</div>';
            }
            historyList.innerHTML = html;
        }

        function deleteEntry(id) {
            if (confirm('Delete this entry?')) {
                const newHistory = [];
                for (let i = 0; i < progressHistory.length; i++) {
                    if (progressHistory[i].id !== id) {
                        newHistory.push(progressHistory[i]);
                    }
                }
                progressHistory = newHistory;
                displayHistory();
            }
        }

        function createConfetti() {
            const colors = ['#f7971e', '#ffd200', '#ff6b35', '#fee140'];
            for (let i = 0; i < 50; i++) {
                setTimeout(function() {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    document.body.appendChild(confetti);
                    setTimeout(function() {
                        confetti.remove();
                    }, 3000);
                }, i * 30);
            }
        }
    </script>
</body>
</html>
